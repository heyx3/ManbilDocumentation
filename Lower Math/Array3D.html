 <!DOCTYPE html>
 <html>
    
    <head>
        <title>Class: Array3D<></title>
        <link type="text/css" rel="stylesheet" href="../MainCSS.css" />
    </head>

    <body>

        <h1>Array3D&lt;ArrayType&gt;</h1>

        <p>A templated 3D array that is stored in one contiguous heap-allocated memory block. The copy/default constructors and assignment operator are disabled for this class.</p>

        <br class="SectionDivider" />

        <h2>Metadata</h2>
        <p>Located in "Math/Lower Math/Array3D.h". Has a .cpp file in the same location. Part of the <a href="../Lower Math.html">Lower Math</a> system.</p>

        <br class="SectionDivider" />

        <h2>Declaration</h2>
        <code class="CodeDecl">
            template&lt;class ArrayType&gt; <br />
            class Array3D;
        </code>

        <br class="SectionDivider" />

        <h2>Sub-types</h2>
        <ul class="DeclarationList">
            <li>
                <a name="ArrayType" />
                <code class="CodeDecl">template&lt;class ArrayType&gt;</code>
                <ul>
                    <li>The type of item this array contains.</li>
                </ul>
            </li>
        </ul>

        <br class="SectionDivider" />

        <h2>Constants</h2>
        <p>None.</p>

        <br class="SectionDivider" />

        <h2>Static Fields</h2>
        <p>None.</p>

        <br class="SectionDivider" />

        <h2>Static Functions</h2>
        <p>None.</p>

        <br class="SectionDivider" />

        <h2>Member Fields</h2>
        <ul class="DeclarationList">
            <li>
                <a name="width" />
                <code class="CodeDecl">private unsigned int width</code>
                <ul>
                    <li>The size of this array along the X.</li>
                </ul>
            </li>
            <li>
                <a name="height" />
                <code class="CodeDecl">private unsigned int height</code>
                <ul>
                    <li>The size of this array along the Y.</li>
                </ul>
            </li>
            <li>
                <a name="depth" />
                <code class="CodeDecl">private unsigned int depth</code>
                <ul>
                    <li>The size of this array along the Z.</li>
                </ul>
            </li>
            <li>
                <a name="arrayVals" />
                <code class="CodeDecl">private ArrayType* arrayVals</code>
                <ul>
                    <li>The heap-allocated array data. It has <code>width * height * depth</code> elements.</li>
                </ul>
            </li>
        </ul>

        <br class="SectionDivider" />

        <h2>Operators</h2>
        <ul class="DeclarationList">
            <li>
                <a name="operator[]" />
                <code class="CodeDecl">public ArrayType&amp; operator[](Vector3u location)</code>
                <ul>
                    <li>Gets the value at the given X/Y/Z position in this array.</li>
                </ul>
            </li>
            <li>
                <a name="operator[]Const" />
                <code class="CodeDecl">public const ArrayType&amp; operator[](Vector3u location) const</code>
                <ul>
                    <li>Gets the value at the given X/Y/Z position in this array.</li>
                </ul>
            </li>
        </ul>

        <h2>Constructors</h2>
        <ul class="DeclarationList">
            <li>
                <a name="ConstructorNoValue" />
                <code class="CodeDecl">public Array3D(unsigned int width, unsigned int height, unsigned int depth)</code>
                <ul>
                    <li>Creates a new array with the given size.</li>
                    <li>All values are uninitialized.</li>
                </ul>
            </li>
            <li>
                <a name="ConstructorValue" />
                <code class="CodeDecl">public Array3D(unsigned int width, unsigned int height, unsigned int depth, const ArrayType&amp; defaultValue)</code>
                <ul>
                    <li>Creates a new array with the given size.</li>
                    <li>All values are initialized to the given value.</li>
                </ul>
            </li>
        </ul>

        <br class="SectionDivider" />

        <h2>Member Functions</h2>
        <ul class="DeclarationList">
            <li>
                <a name="GetWidth" />
                <code class="CodeDecl">public unsigned int GetWidth(void) const</code>
                <ul>
                    <li>Gets the X size of this array.</li>
                </ul>
            </li>
            <li>
                <a name="GetHeight" />
                <code class="CodeDecl">public unsigned int GetHeight(void) const</code>
                <ul>
                    <li>Gets the Y size of this array.</li>
                </ul>
            </li>
            <li>
                <a name="GetDepth" />
                <code class="CodeDecl">public unsigned int GetDepth(void) const</code>
                <ul>
                    <li>Gets the Z size of this array.</li>
                </ul>
            </li>
            <li>
                <a name="GetDimensions" />
                <code class="CodeDecl">public Vector3u GetDimensions(void) const</code>
                <ul>
                    <li>Gets the size of this array along each axis.</li>
                </ul>
            </li>
        </ul>
        <ul class="DeclarationList">
            <li>
                <a name="ResetNoValue" />
                <code class="CodeDecl">public void Reset(unsigned int newWidth, unsigned int newHeight, unsigned int newDepth) const</code>
                <ul>
                    <li>Resets this array to the given size and leaves its elements uninitialized.</li>
                    <li>If the total number of elements doesn't change, then nothing is allocated or un-allocated, and the elements keep their values.</li>
                </ul>
            </li>
            <li>
                <a name="ResetValue" />
                <code class="CodeDecl">public void Reset(unsigned int newWidth, unsigned int newHeight, unsigned int newDepth, const ArrayType&amp; defaultValue) const</code>
                <ul>
                    <li>Resets this array to the given size and initializes all elements to the given value.</li>
                </ul>
            </li>
        </ul>
        <ul class="DeclarationList">
            <li>
                <a name="GetIndex" />
                <code class="CodeDecl">public unsigned int GetIndex(unsigned int x, unsigned int y, unsigned int z) const</code>
                <ul>
                    <li>Gets the index of the underlying array that corresponds to the given coordinates.</li>
                </ul>
            </li>
            <li>
                <a name="GetLocation" />
                <code class="CodeDecl">public Vector3u GetLocation(unsigned int index) const</code>
                <ul>
                    <li>Gets the coordinates of the element that sits at the given array index.</li>
                </ul>
            </li>
            <li>
                <a name="ClampI" />
                <code class="CodeDecl">public Vector3i Clamp(Vector3i in) const</code>
                <ul>
                    <li>Clamps the given coordinate to be inside the range of allowable coordinates for this array.</li>
                </ul>
            </li>
            <li>
                <a name="ClampU" />
                <code class="CodeDecl">public Vector3u Clamp(Vector3u in) const</code>
                <ul>
                    <li>Clamps the given coordinate to be inside the range of allowable coordinates for this array.</li>
                </ul>
            </li>
            <li>
                <a name="ClampF" />
                <code class="CodeDecl">public Vector3f Clamp(Vector3f in) const</code>
                <ul>
                    <li>Clamps the given coordinate to be inside the range of allowable coordinates for this array.</li>
                </ul>
            </li>
            <li>
                <a name="WrapI" />
                <code class="CodeDecl">public Vector3i Wrap(Vector3i in) const</code>
                <ul>
                    <li>Wraps the given coordinate around the range of allowable coordinates for this array.</li>
                </ul>
            </li>
            <li>
                <a name="WrapU" />
                <code class="CodeDecl">public Vector3u Wrap(Vector3u in) const</code>
                <ul>
                    <li>Wraps the given coordinate around the range of allowable coordinates for this array.</li>
                </ul>
            </li>
            <li>
                <a name="WrapF" />
                <code class="CodeDecl">public Vector3f Wrap(Vector3f in) const</code>
                <ul>
                    <li>Wraps the given coordinate around the range of allowable coordinates for this array.</li>
                </ul>
            </li>
        </ul>
        <ul class="DeclarationList">
            <li>
                <a name="IsCube" />
                <code class="CodeDecl">public bool IsCube(void) const</code>
                <ul>
                    <li>Gets whether this array's width, height, and depth are the same size.</li>
                </ul>
            </li>
            <li>
                <a name="HasSameDimensions" />
                <code class="CodeDecl">public bool HasSameDimensions(const Array3D&lt;ArrayType&gt;&amp; other) const</code>
                <ul>
                    <li>Gets whether this array has the same dimensions as the given one.</li>
                </ul>
            </li>
            <li>
                <a name="GetNumbElements" />
                <code class="CodeDecl">public unsigned int GetNumbElements(void) const</code>
                <ul>
                    <li>Gets the total number of elements contained by this array.</li>
                </ul>
            </li>
        </ul>
        <ul class="DeclarationList">
            <li>
                <a name="FillValue" />
                <code class="CodeDecl">public void Fill(const ArrayType&amp; value)</code>
                <ul>
                    <li>Fills every array element with the given value.</li>
                </ul>
            </li>
            <li>
                <a name="FillCopyOffset" />
                <code class="CodeDecl">public void Fill(const Array3D&lt;ArrayType&gt;&amp; toCopy, Vector3i copyOffset = Vector3i(0, 0, 0))</code>
                <ul>
                    <li>Copies the given array's contents into this one.</li>
                    <li>Can optionally specify an offset for the copy array.</li>
                    <li><a href="Array2D.html#FillCopyOffset">Refer to the Array2D version for an example of how this function works.</a></li>
                </ul>
            </li>
            <li>
                <a name="FillCopy" />
                <code class="CodeDecl">public void Fill(const ArrayType* values, bool useMemcpy)</code>
                <ul>
                    <li>Copies the given array into this one.</li>
                    <li>Assumes that the size of this array matches the given one.</li>
                    <li>If "useMemcpy" is true, this array will have its exact binary data copied quickly using memcpy.</li>
                    <li>If "useMemcpy" is false, each individual element will be set using its assignment operator.</li>
                </ul>
            </li>
            <li>
                <a name="FillFunc" />
                <code class="CodeDecl">
                    template&lt;typename Func&gt; <br />
                    public void FillFunc(Func getValue)
                </code>
                <ul>
                    <li>Fills every element of this array with the return value of the given function.</li>
                    <li>The function must have the signature <code>void StoreValue(Vector3u arrayIndex, ArrayType* outNewValue)</code></li>
                    <li><a href="Array2D.html#FillFunc">Refer to the Array2D version for an example of how this function works.</a></li>
                </ul>
            </li>
            <li>
                <a name="Resize" />
                <code class="CodeDecl">public void Resize(unsigned int newWidth, unsigned int newHeight, unsigned int newDepth, const ArrayType&amp; defaultVal)</code>
                <ul>
                    <li>Resizes this array to the given size without modifying its current elements (although some elements will of course be lost if the array gets shortened).</li>
                    <li>If the array is being expanded, new elements will be set to the given value.</li>
                </ul>
            </li>
        </ul>
        <ul class="DeclarationList">
            <li>
                <a name="GetArrayConst" />
                <code class="CodeDecl">public const ArrayType* GetArray(void) const</code>
                <ul>
                    <li>Gets a raw pointer to the first element in this array.</li>
                </ul>
            </li>
            <li>
                <a name="GetArray" />
                <code class="CodeDecl">public ArrayType* GetArray(void)</code>
                <ul>
                    <li>Gets a raw pointer to this first element in this array.</li>
                </ul>
            </li>
            <li>
                <a name="CopyInto" />
                <code class="CodeDecl">public void CopyInto(ArrayType* outValues) const</code>
                <ul>
                    <li>Copies this array into the given raw array.</li>
                    <li>Assumes the raw array has the same number of elements as this one.</li>
                </ul>
            </li>
        </ul>

        <br class="SectionDivider" />

        <h2>Usage</h2>
        <p>This class can be used to represent 3D arrays and easily perform high-level computations/modifications to them.
           For best cache usage, array iteration should be done through the Z axis in the outer loop,
               the Y axis in the middle loop, and the X axis in the inner loop.</p>

        <br class="SectionDivider" />

        <h2>Samples</h2>
        <div class="CodeSample">
            <code>
                typedef Array3D&lt;int&gt; IntArray3D; <br />
                IntArray3D ints3(3, 3, 3, 42), //Fills this array with 42. <br />
&emsp; &emsp; &emsp; &emsp; &emsp; &emsp;ints5(5, 5, 5, 43); //Fills this array with 43. <br />
                std::cout << ints3[Vector3u(0, 0, 0)] << ", " << ints5[Vector3u(3, 3, 3)] << "\n"; // Outputs "42, 43". <br />
                <br />
                Vector3i testPos1(4, -1, 10); <br />
                Vector3i testPos2; <br />
                testPos2 = ints3.Clamp(testPos1); <br />
                std::cout << testPos2.x << ", " << testPos2.y << ", " << testPos2.z << "\n"; // Outputs "2, 0, 2". <br />
                testPos2 = ints3.Wrap(testPos1); <br />
                std::cout << testPos2.x << ", " << testPos2.y << ", " << testPos2.z << "\n"; // Outputs "1, 2, 1". <br />
                testPos2 = ints5.Clamp(testPos1); <br />
                std::cout << testPos2.x << ", " << testPos2.y << ", " << testPos2.z << "\n"; // Outputs "4, 0, 4". <br />
                testPos2 = ints5.Wrap(testPos1); <br />
                std::cout << testPos2.x << ", " << testPos2.y << ", " << testPos2.z << "\n"; // Outputs "4, 4, 0".<br />
            </code>
        </div>

    </body>

 </html>